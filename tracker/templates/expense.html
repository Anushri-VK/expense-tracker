{% extends 'base1.html' %}
{% block body %}
<div class="container">
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8">
		<div class="heading mt-4">
			<h2>Expenses</h2>
		</div>
		<div class="sub-head mt-4 mb-2">
			<h4>Create Expense</h4>
		</div>
		<form action="/create_expense/" method="POST">
			{% csrf_token %}
			<div class="form-group">
				<label>Wallet</label>
				<select name="wallet" class="form-control">
					{% for wallet in all_wallets %}
					<option value="{{wallet.id}}">{{wallet.id}}</option>
					{% endfor %}
				</select>
			</div>
			<div class="form-group">
				<label>Title</label>
				<input type="text" class="form-control" name="expense_title" placeholder="Name">
			</div>
			<div class="form-group">
				<label>Amount</label>
				<input type="number" class="form-control" name="expense" placeholder="Amount">
			</div>
			<div class="form-group">
				<label>Description</label>
				<textarea class="form-control" name="expense_description" placeholder="Description"></textarea>
			</div>
			<button type="submit" class="btn btn-primary">Create Expense</button>

		</form>
		<br>
		<hr>
		<div class="sub-head mt-4 mb-2"></div>
		<table class="table table-striped">
				<tr>
					<th>Wallet Name</th>
					<th>Balance Amount</th>
					<th>Last Transaction</th>
				</tr>
				{% for expense in all_expenses %}
			<tr>
				<td>{{expense.title}}</td>
				<td>{{expense.description}}</td>
				<td>{{expense.amount}}</td>
				<td>{{expense.timestamp}}</td>
				<td>{{expense.wallet}}</td>
				<td><a href="/delete_wallet/{{wallet.id}}/">Delete</a></td>
				<td><a href="/edit_wallet/{{wallet.id}}/">Edit</a></td>
			</tr>
			{% endfor %}
		</table>
	</div>
</div>
</div>
{% endblock %}